---
import { ViewTransitions } from "astro:transitions";
import clsx from "clsx";

import "normalize.css";
import "sakura.css";
import "@fontsource/staatliches/400.css";
import "@fontsource/merriweather";
import "../styles/global.css";
import { defaultTheme } from "../styles/defaultTheme.css";
import SEO, { type Props as ISeo } from "../components/SEO/SEO.astro";
import { layoutStyles } from "./Layout.css";
import { Box, Header, Footer } from "../components";

interface Props {
  seo: ISeo;
  pathname?: string;
}

const { pathname } = Astro.url;
const { seo: seoData } = Astro.props;
---

<html lang="en" class={clsx(defaultTheme)}>
  <head>
    <meta name="generator" content={Astro.generator} />
    <script
      defer
      data-domain="valerionarcisi.me"
      src="https://plausible.io/js/script.js"></script>
    <SEO
      title={seoData?.title || "Valerio Narcisi"}
      description={seoData?.description ||
        "Valerio Narcisi - Web Developer, Director and Screenwriter"}
      name={seoData?.name || "Valerio Narcisi"}
      type={seoData?.type || "website"}
      image={seoData?.image ||
        "https://media.graphassets.com/output=format:jpg/resize=width:250/11v3vMf8QMziD5ZAv6zY"}
    />
    <ViewTransitions />
  </head>
  <Box as="body">
    <Header pathname={pathname} />
    <Box as="div" className={clsx(layoutStyles)}>
      <Box as="main" width={"fullLayout"} margin="auto">
        <Box
          as="div"
          paddingY={{
            mobile: "large",
            tablet: "extraLarge",
            desktop: "extraLarge",
          }}
        >
          <slot />
        </Box>
      </Box>
    </Box>
    <Footer />
  </Box>
</html>
