---
import '~/components/Hero.css'
import Button from '~/components/Button.astro'

interface CallToAction {
    label: string;
    href: string;
}

interface Props {
    title: string;
    subtitle: string;
    role: string;
    aiTagline?: string;
    callToActions: CallToAction[];
}

const { title, subtitle, role, aiTagline, callToActions } = Astro.props;
---

<section class="Hero">
  <div class="container">
    <video class="video" autoplay muted loop playsinline>
      <source src="/videos/CARAMELLA_TRAILER.mp4" type="video/mp4" />
    </video>
  </div>

  <div class="overlay">
    <div class="content">
      <h1 class="cursor-blink">{title}</h1>
      <p class="hero-subtitle">
        <span class="prompt">&gt;</span> {role}
      </p>
      <p class="hero-subtitle">{subtitle}</p>
      {aiTagline && (
        <p class="hero-ai-tagline">// {aiTagline}</p>
      )}
      <div class="call-to-actions">
        {callToActions.map((cta) => <Button label={cta.label} href={cta.href} />)}
      </div>
    </div>
    <button class="floating-btn">
      <span class="arrow">&#8595;</span>
    </button>
  </div>
</section>

<script>
  const button = document.querySelector('button.floating-btn');
  button?.addEventListener('click', () => {
    const targetSection = document.getElementById('last-watched');
    if (targetSection) {
      targetSection.scrollIntoView({ behavior: 'smooth' });
    }
  });
</script>
