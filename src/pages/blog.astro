---
import { getCollection } from "astro:content";
import { Blog as BlogComponent } from "../components";
import AstroLayout from "../layouts/layout.astro";

const posts = await getCollection("posts");
const sortedPosts = posts.sort((a, b) => {
  return (
    new Date(b.data.createdAt).getTime() - new Date(a.data.createdAt).getTime()
  );
});
---

<AstroLayout
  seo={{
    title: `Blog | Valerio Narcisi - web developer, director and screenwriter`,
    description:
      "Blog page of Valerio Narcisi web developer, director and screenwriter.",
    name: `Blog | Valerio Narcisi - Blog`,
    type: "website",
  }}
>
  <BlogComponent posts={sortedPosts} title="Blog" />
</AstroLayout>
