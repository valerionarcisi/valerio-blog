---
import { Effect } from "effect";
import { Blog as BlogComponent } from "../components";
import AstroLayout from "../layouts/layout.astro";
import {
  getAndParseHyGraphAbstractPost,
} from "../services/hygraph";
import type { ExitTAbstractPost } from "../models";

const posts = (await Effect.runPromiseExit(
  getAndParseHyGraphAbstractPost()
)) as ExitTAbstractPost;
---

<AstroLayout
  seo={{
    title: `Blog | Valerio Narcisi - web developer, director and screenwriter`,
    description:
      "Blog page of Valerio Narcisi web developer, director and screenwriter.",
    name: `Blog | Valerio Narcisi - Blog`,
    type: "website",
  }}
>
  <BlogComponent posts={posts} title="Blog" />
</AstroLayout>
