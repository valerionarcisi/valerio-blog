---
import AstroLayout from "../../layouts/layout.astro";
import Post from "../../components/Post/Post";

const { slug } = Astro.params;
const res = await fetch(
  `https://alexmuraro.me/wp-json/wp/v2/posts/?slug=${slug}`
);
const post = await res.json();
if (post.length === 0) return Astro.redirect("/404");

---

<AstroLayout>
  <Post post={post[0]} />
</AstroLayout>
